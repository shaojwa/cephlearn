1. 本书前四章总结适用于所有数据系统的基本思想，包括单机系统和分布式系统。
2. 数据密集型应用通常也是基于标准模块搭建出来的，每个模块负责单一的功常用功能。
3. 常见系统五大模块，数据库，缓存，索引，流处理，批处理。（我叫它 五大战区）

## 认识数据系统

1. 为什么我们把数据库和队列放到一起，叫数据系统？因为现在很多系统即可用于数据存储，也可以用于消息队列。
2. 对大多数软件系统走纪委重要的三个问题：可靠性，扩展性，维护性。

## 可靠性
1. 可能出错的事情成为错误（fault）或者故障
2. 容错总是指特定乐行的故障，这样的系统才更有实际意义。
3. 故障和实效（failure）不完全一致，实效常常意味着系统作为一个整体停止，无法向客户提供所需的服务。
4. 本书针对那些影响可以被消除的故障类型。

#### 硬件故障
1. 硬件荣誉和多机冗余。
2. 通过软件容错的方式来容忍多级实效成为新的手段，或者实诚成为硬件容错的有力补充。
3. 滚动升级。

#### 软件错误
1. 级联故障

#### 人为失误
1. 运维者的配置错误居然是系统下线的首要原因（人果然是最不靠谱的），而硬件问题只是在10%-25%的故障中有所影响。

#### 人既然是不可靠的，那么如何保证系统的可靠性
1. 以最小出错的方式来设计系统。
2. 分离出容易出错的地方，容易引起故障的接口，然后将其放入沙箱系统，以方便更加完整的测试。
3. 建立详细而清晰的监控子系统，在其他行业中成为遥测，类似于火箭离开地面，要错对于跟踪运行和了解故障至关重要。
4. 推行管理流程并加以培训，这个重要而复杂的流程，已经超出本书的范围。

#### 可靠性的重要性

## 可扩展性
1. 可扩展性并不是衡量一个系统的一维指标。

#### 描述负载
1. 发布压力小，所以可以在发布模块多完成一些事情，来加速时间线浏览（读取模块）的性能。

#### 描述性能
描述负载之后，我们自然会考虑，如果负载增加了，将会发生什么？两种思考角度。
1. 负载增加，但系统资源布标，系统性能会发生什么变化？
2. 负载增加，如果要保持性能不变，那么需要增加多少资源？

批处理系统，比如Hadoop中，我们通常更加个关注吞吐量（througput），而在线系统常常更加看重响应时间（response time）

1. 延迟(latency）和响应时间（response time）容易混淆使用，谈事他们并不完全一样。
2. 不要把响应时间视为一个固定的数字，而是可度量的一种数值分布。（或者更直白点就是概率分布）
3. 中位数指标，不是响应数值的平均值，而是所有响应时间进行排序之后，排在中间的值。（通常，这个值比算数平均值不一样，是大还是小，得看数据分布）
4. 很重要的一点是，需要在客户端来测量响应时间。

#### 应对负载增加的方法
1. 实践中的百分位数
2. 正向衰减，t-digest，HdrHistogram
3. 我们需要认真考虑，每增加一个数量级的负载之后，架构应该如何设计。
4. 现在讨论更多的是，如何在垂直扩展和水平扩展之间做取舍。
5. 无状态服务扩展到多台机器比较简单，但是有状态服务从单个节点扩展到分布式环境则会大大增加复杂性。

## 可维护性
我们从软件设计时开始考虑软件的额可维护性，尽可能减少软件维护期间的麻烦。我们特别关注软件系统的三个设计原则：
1. 可维护性
2. 简单性
3. 可演化性
