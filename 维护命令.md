## mds

## mon

查看mon状态
```
ceph mon dump
ceph mon_status
ceph quorum_status
```

主mon
```
ceph mon stat // 输出中有leader相关信息
```

## osd

## rados

查看某个目录的所有对象：
```
[root@node11 dirfrag]# rados -p .capfs.metadata.Metadata ls | grep 10000000003
```

目录对象的omap是空：
```
[root@node11 data]# rados -p .capfs.metadata.Metadata listomapkeys 10000000003.00000000
[root@node11 data]#
```

目录对象的xattr是：
```
[root@node11 data]# rados -p .capfs.metadata.Metadata listxattr 10000000003.00000000
layout
parent
```

分片对象的omap是：
```
[root@node11 data]# rados -p .capfs.metadata.Metadata listomapkeys 10000000003.03200000  | head -2
file10020_head
file10023_head
```

分片对象的xattr是：
```
[root@node11 data]# rados -p .capfs.metadata.Metadata listxattr 10000000003.03200000
[root@node11 data]#
```

查看目录分片系数和大小：
```
[root@node12 ~]# ceph daemon mds.mds1 config show | grep split_bits
    "mds_bal_split_bits": "3",
[root@node12 ~]# ceph daemon mds.mds1 config show | grep split_size
    "mds_bal_split_size": "10000",
[root@node12 ~]#
```
