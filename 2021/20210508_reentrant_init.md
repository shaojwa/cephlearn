
初始化流程可重入问题

## 可重入的优点和缺点
1. 初始化流程涉及步骤较多时，按照依赖顺序，完成模块的初始化，当有部分组件异常时，可以再次重试，没有必要重走流程。
2. 相互独立的模块之间，如果初始化不成功，不影响已经初始化成功的模块。
3. 但是一个流程中，子模块的初始化时间并不一样，这样的结果有点违反直觉，违反直觉的问题容易隐藏问题。

## 全流程shutdown后重新boot的优缺点
1. 流程比较清楚，所有的模块按照依赖顺序依次初始化，
2. 缺点是，有的模块init之后，已经在做一些处理，此时shutdown对这些处理会有影响。
3. 如果一个模块中，有协程正在执行，shutdown就会占用较长的时间。

## 如何选择
1. 我个人认为，在比较顶层，允许对某些流程进行多次初始化，有一定的意义，但必须要按照一定的依赖顺序。
1. 初始化调度层，应该承担一定的责任，来组织某个组件中子模块的初始化顺序，避免没有必要的多次初始化。
2. 子模块的初始化接口也可以多自我检测，当状态正常时就可以避免重复执行初始化流程。
