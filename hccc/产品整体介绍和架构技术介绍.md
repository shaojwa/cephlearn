## 产品概述
#### 存储协议发展历程
硬盘1957，SAN网络存储1970，NAS文件存储1984，2006对象存储（amazon推出s3, simple storage service），需求变化，引用场景变化。

#### 不同存储协议的应用场景
从使用边界来说，块，数据中心。文件，局域网和数据中心。对象存储，互联网移动互联网，数据中心。
从使用者角度来说，块，机器使用。文件存储，办公账户和机器。对象存储，云账户，社交账户，办公账户和机器。
从访问协议来说，块，iSCSI（标准协议），RBD（云场景），FC（传统数据中心使用的访问协议）。文件，NFS/CIFS/FTP，对象是S3（主流）/swift。

从应用场景来说，块，私有云，桌面云，容器后端，数据库。文件，文件共享，视频监控，媒资，电视台，高性能计算。对象，大数据处理，数据分析，互联网应用，海量图片，海量视频。

#### 19年块文件对象市场情况
块（H3C37%， HW31%，XSKY 14%），文件（HW 53% OceanStor9000，sugon 22% HPC，inspur 8%，H3C 4%），对象（XSKY 22%， HW 20%，16 H3C，sandstore 13%）

NAS文件市场格局比较固化。

#### 是统一存储
一套存储，四种服务。块，文件，对象，大数据存储。
全行业应用场景支撑，云平台，虚拟化，视频监控，数据分析，备份归档。

#### 是软件定义存储
软硬件解耦，硬件标准化，软件把硬件虚拟化，存储能力不再受限于当个节点的性能。

专有硬件更新周期一般是2-5年。

#### 是分布式存储
分布式系统数据可靠性三板斧：冗余，分区，校验。

#### 冗余
就删码K+M， 推荐4+2:1（最低节点数为3），4+2（最低节点数为6），8+2（最低节点数为10）。2<=K<=18， 1<=M<=4，k>M，k+M <=20。:1表示降级纠删码。

就删码用于非结构化数据存储，比如视屏，图片，资料文档，备份，归档等对空间利用率要求较高的场景。多副本用于性能要求较高的结构化数据，比如联机交易，数据库等。

系统中所有软件组件的全冗余，无单点故障，高可用加上负载均衡。硬件冗余 = 万兆链路聚合实现主备 + IRF堆叠 + RAID掉电保护。

#### 分区
通过故障域和保护域从纵向和横向双重保障系统的可靠性和可用性。

保护域，一份数据的的3个副本在同一个保护域，好处是，可以降低双点故障概率。

#### 节点池

节点池在物理上完全隔离（80台服务器分为2个节点池），每个节点池对应一个存储池。一个节点池可以分为2个保护域。故障域设置为机架。

故障域收益：机架1整体掉电，只会影响数据的一个副本，如果故障域配置为主机，那么一个机架的掉电可能会出现3个副本同时调电。

保护域收益：机架1的主机1和机架2的主机6同时故障，只会影响数据的一个副本，如果不划分保护域，肯呢个就会影响一份数据的两个副本。

其实就是数据部分太聚合，也不能太分散。太分散的话，两个不通同机架的主机故障就可能会丢失数据。

节点个数大于40，划分多个节点池。节点池内节点数大于20，划分多个保护域。

#### 数据校验
为每一个数据块保存CRC校验。TCP数据校验，内存ECC校验（能纠正一个bit错误和检测两个bit错误），SAS数据校验（IO数据进入SAS芯片会加上SAS校验和，指导落盘），存储集群CRC校验。存储的CRC校验可以防止数据的静默损坏。

周期性的后台数据校验扫描，能及时发现数据是否完整。

#### 分布式存储软件规格
规格主要分为：系统架构，扩展性，多借点池，数据冗余保护，硬盘支持类型，前端网络类型，集群网络类型，基础功能，版本更新方式，可靠性检测机制，存储服务类型，支持协议，增值特性，以及兼容平台和组件等多个方面。2.0 是块+对象， 3.0是块+对象+文件。数据冗余保护多了纠删码。支持的硬盘类型为NVMe，SATA SSD，SAS SSD，SATA HDD， SATA HDD。


## 技术优势
#### 完善的可靠性
硬件可靠性，存储集群可靠性（冗余机制，故障隔离，优先级流控，集群升级等），数据保护（副本，纠删码，故障域，保护域，数据校验，快照，克隆，远程复制，集群双活）。

盘故障就处理框架。

#### 领先的性能
SCache，只能缓存硬盘加速。智能识别业务负载，动态调整下刷水位线，智能识别重要数据，优先淘汰冷及副本数据。

闪存介质的双模加速

#### 强大的可服务性
#### 全面的生态兼容
#### 丰富的企业级功能

## 案例简介

## 新品速递

## 疑问
1. 什么叫降级纠删码
