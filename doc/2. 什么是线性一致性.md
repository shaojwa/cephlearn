#### CAP中的C

1. C就是一致性，CAP中的C是强一致性，也叫线性一致性，或者叫原子一致性。那什么是线性一致性？
1. 就像足球比赛，在多个副本上查询的结果都是一样的，才叫强一致性，如果某一时刻A查到的结果和B查到的结果不一样，那就不是强一致性。
1. 如果是只有一个副本，没有这个问题，更新操作是原子的，如果不只有一个副本，那就不一样，多个副本之前的更新存在延时。
1. 所以，**一致性其实主要是描述了在故障和延迟的情况下副本间的状态协调的问题**

#### 线性一致性的目标

1. 让一个多副本的系统看起来只有一个副本，而且所有的操作都是原子性的。 
1. 也就是说，一个操作尽管需要一段时间，但是真的发生改变的操作必须是原子性的在某一个时间点发生。  
1. 这个点之后，所有客户端的读取都是新值，这个点之前，读取到的都是旧值。  

#### 和事务一致性的区别

1. 线性一致性是保证单个操作的原子和瞬间，瞬间是为了让某个操作的变化 有个明确的时间点。
2. 事务一致性是一组操作的原子性。
1. 线性一致性不只是在分布式系统中，还存在于本地系统，比如多个CPU架构下，普通变量就不是线性一致性，只有atomic才是线性一致性。
1. 别的一些数据结构，比如mutex，也要求需要必须满足线性一致性。
