公司的代码评审速度基线0.42k/h, 即每小时420行。
代码评审点：软件的可用性，软件的健壮性，软件的可扩展性，软件的可维护性。
1. 可用性，内存使用相关：内存泄露，重复释放等。
1. 可用性，线程同步相关：死锁，信号处理。
1. 可维护性，日志等级，打印字段。

|致命|直接引起软件故障|
|:-|:-|
|内存错误|重复释放各种内存、读写越界、产生或访问野指针、释放非法地址、释放后仍然使用,申请未判断是否成功就使用|
|资源泄漏|正常/异常操作时未正确释放内存、句柄、锁、信号量、Anchor、定时器、队列、MBUF、HASH 等系统资源|
|运行异常|死循环，任务挂死，函数重入错误，栈溢出或栈变量被写坏，重复释放锁，重复获取锁|
|误用设施|信号直接回调函数中使用阻塞接口，在spinlock等不能阻塞的临界区中调用阻塞接口|

|严重|不会直接引起软件故障，但是长期积累下来会导致软件问题|
|:-|:-|
|浪费资源|重复释放各种内存、读写越界、产生或访问野指针、释放非法地址、释放后仍然使用,申请未判断是否成功就使用|
|误用资源|将定时器消息和其他消息合用，事件位定义不符合规范或冲突|
|冗余代码|重复或冗余代码、无用/废弃的代码，浪费代码段空间|
|性能问题|性能关键代码效率极低,周期性/频繁调用的功能代码效率极低|
|运行异常|长时间占用CPU，功能没有启用或无业务时其任务未关闭或阻塞，未考虑异步定时器的抗干扰处理|
|异常输入|外部输入数据长度超长/为零，索引为零/超大/无索引，配置消息输入参数长度超长/为零|
|异常处理|未处理或没有正确处理RPC/IPC失败,队列操作失败,Waitlist操作失败,定时器操作失败，内存申请失败等情况|
|局部变量|变量过大，溢出，可能在未初始化时使用或者缺少保护，同一变量在函数中不同代码片断之间含义不一样，牵强复用|
|全局变量|变量过大，溢出，可能在未初始化时使用或者缺少保护，到处直接使用全局变量|
|字符处理|CHAR类型为有符号和无符号时影响代码逻辑，缺乏潜在越界保护|
|外部接口|提供给外部的接口未对参数安全检查,内存申请释放规则不符合规范,未判断返回值或者关键输出参数的值|
|字节序类|报文处理未进行字节序转换，调用接口函数时数据类型使用不合理引起字节序问题,数据结构中位段的字节序问题|
|链表操作|没有必要的链表设计，有任务切换时没有对链表遍历进行保护，新增链表元素成员初始化不完整|
|结构设计|结构中的各元素不是代表同一事务的不同侧面，而是描述没有关系或关系很弱的不同事务|
|数据结构|数据结构超级灵活，数据结构之间关系复杂，数据结构字段冗余，或包含极少使用的成员|
|逻辑错误|循环条件不当/边界值错/不能遍历所有元素，循环返回位置不正确，大循环中未释放CPU|
|逻辑设计|多个重要系统资源生命周期交叉或者无谓地强耦合，程序逻辑明显不合理|
|流程分支|关键和次要流程没有区分或隔离，分支太复杂或多次不同的循环嵌套，流程的清晰、准确、兼容和健壮性差|
|函数设计|函数功能面面俱到，不利于理解/测试/维护。函数中存在没有关联或关联很弱的语句|
|中断操作|可能在中断中被调用的函数缺少重入保护，获取信号量操作,进行同步阻塞型操作|
|重入函数|可能重入的函数使用全局变量，未通过关中断、信号量（即P、V操作）等手段来保护|
|任务切换|链表等核心数据操作中可能发生任务切换，有影响但缺乏保护|
|密码处理|源代码存储密码，解密后的明文密码没有清零，打印或输出明文密码，不必要的解密处理|

|一般|解决方案|
|:-|:-|
|通常约定|索引查询函数返回正确但索引仍可能是非法，查找下一个索引返回正确但下一个索引可能是非法|
|性能问题|代码效率低，没有必要的重复间接寻址,循环条件中含有没有意义的重复计算|
|优先计算|表达式不应该依赖运算符优先级，而应使用“（）”来明确计算先后|
|调试信息|调用外部接口错误时无调试信息，调试信息错误或者缺乏有效信息无法辅助定位|
|特性裁减|可裁减特性裁减不完全，引入新的编译宏，编译宏使用不准确/宏裁减不完全|
|特性定制|结构定义字段布局不合理，浪费空间，容易误用。数值定义没有考虑后向兼容性|
|断言不当|使用断言进行错误处理而不是检查假设条件，在正常的错误分支上放置断言|
|外部接口|数据类型使用不合理，参数设置非正交，功能定义不准确或不合理|
|函数封装|实现抽象和细节屏蔽不准确，暴露内幕或者使用复杂，对有成熟库函数支持的功能重写,函数原型申明和实现不符|
|宏裁减类|编译宏嵌套/使用不准确，用宏裁减的差别不准确或者大量重复雷同代码|
|原型声明|有函数/变量没有原型声明，模块内部使用的函数原型和公开的原型没有区分或混在一起|
|配置消息|新写代码未在模块的一级回调中统一进行配置管理消息的申请和释放，出现错误时未通过SetMsgError设置错误码|
|资源危机|资源申请释放的无原则地分散，时机不当，规则不一致（可以一致时），资源指针或者句柄随意赋值或中转(不利于Lint）|
|提示信息|用户界面相关的信息和代码耦合,没有独立存储。提示信息不够精简或语法错误|
|命名规范|函数/变量/数据结构/宏/命令字/文件/目录 命名不规范,可读性差|

|提示|解决方案|
|:-|:-|
|书写格式|空格/缩进/对齐 不符合格式规范，代码可阅读性差|
|注释描述|注释/函数原型申明描述错误,注释不足，不能充分自注释的变量未注释|
